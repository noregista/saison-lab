/* ==========================================================================
   CUISINE LAB - Design System
   黄金比タイポグラフィ (φ = 1.618) を適用
   ========================================================================== */

/* CSS変数定義 / CSS Custom Properties */
:root {
  /* カラーパレット / Color Palette */
  --color-bg: #0a0a0a;
  --color-bg-elevated: #141414;
  --color-bg-card: #1a1a1a;
  --color-surface: #222222;
  --color-border: #333333;
  --color-text: #f5f5f5;
  --color-text-muted: #888888;
  --color-accent: #c9a962;
  --color-accent-light: #dfc88a;
  --color-accent-dark: #a68a4a;
  
  /* 味覚カラー / Flavor Colors */
  --flavor-sweet: #ff6b9d;
  --flavor-spicy: #ff4757;
  --flavor-sour: #ffa502;
  --flavor-salty: #70a1ff;
  --flavor-umami: #7bed9f;
  --flavor-bitter: #a55eea;
  
  /* 黄金比タイポグラフィ / Golden Ratio Typography */
  --phi: 1.618;
  --font-base: 16px;
  --font-xs: 10px;
  --font-sm: 14px;
  --font-md: 16px;
  --font-lg: 26px;
  --font-xl: 42px;
  --font-2xl: 68px;
  
  /* 間隔 / Spacing */
  --space-xs: 4px;
  --space-sm: 8px;
  --space-md: 16px;
  --space-lg: 24px;
  --space-xl: 40px;
  --space-2xl: 64px;
  
  /* アニメーション / Animation */
  --transition-fast: 150ms ease;
  --transition-normal: 300ms ease;
  --transition-slow: 500ms cubic-bezier(0.4, 0, 0.2, 1);
  
  /* フォント / Fonts */
  --font-display: 'Cormorant Garamond', serif;
  --font-body: 'Noto Sans JP', 'Outfit', sans-serif;
  --font-mono: 'SF Mono', monospace;
}

/* リセット / Reset */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { font-size: var(--font-base); scroll-behavior: smooth; }
body { font-family: var(--font-body); background: var(--color-bg); color: var(--color-text); line-height: 1.6; min-height: 100vh; }

/* ユーティリティ / Utilities */
.visually-hidden { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); border: 0; }

/* スケルトンスクリーン / Skeleton Screen */
.skeleton-overlay { position: fixed; inset: 0; background: var(--color-bg); z-index: 9999; display: flex; align-items: center; justify-content: center; transition: opacity 0.5s ease; }
.skeleton-overlay.hidden { opacity: 0; pointer-events: none; }
.skeleton-content { width: 100%; max-width: 800px; padding: var(--space-xl); }
.skeleton-logo, .skeleton-search, .skeleton-card { background: linear-gradient(90deg, var(--color-bg-card) 25%, var(--color-surface) 50%, var(--color-bg-card) 75%); background-size: 200% 100%; animation: skeleton-shimmer 1.5s infinite; border-radius: 8px; }
.skeleton-logo { height: 48px; width: 200px; margin-bottom: var(--space-lg); }
.skeleton-search { height: 56px; margin-bottom: var(--space-xl); }
.skeleton-cards { display: grid; gap: var(--space-md); }
.skeleton-card { height: 120px; }
@keyframes skeleton-shimmer { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }

/* ヘッダー / Header */
.header { position: sticky; top: 0; z-index: 100; background: rgba(10,10,10,0.95); backdrop-filter: blur(10px); border-bottom: 1px solid var(--color-border); }
.header-container { max-width: 1200px; margin: 0 auto; padding: var(--space-md) var(--space-lg); display: flex; justify-content: space-between; align-items: center; }
.logo { display: flex; align-items: center; gap: var(--space-md); }
.logo-icon { width: 40px; height: 40px; color: var(--color-accent); }
.logo-text { display: flex; flex-direction: column; }
.logo-main { font-family: var(--font-display); font-size: var(--font-lg); font-weight: 600; color: var(--color-accent); letter-spacing: 0.1em; }
.logo-sub { font-size: var(--font-xs); color: var(--color-text-muted); letter-spacing: 0.05em; }
.header-nav { display: flex; gap: var(--space-md); }
.lang-toggle { background: transparent; border: 1px solid var(--color-border); padding: var(--space-xs) var(--space-md); border-radius: 20px; color: var(--color-text); cursor: pointer; font-size: var(--font-sm); transition: var(--transition-fast); }
.lang-toggle:hover { border-color: var(--color-accent); color: var(--color-accent); }
.lang-current { font-weight: 500; }
.lang-other { opacity: 0.5; }

/* メイン / Main */
.main { max-width: 1200px; margin: 0 auto; padding: var(--space-xl) var(--space-lg); }

/* 検索セクション / Search Section */
.search-section { margin-bottom: var(--space-xl); }
.search-container { margin-bottom: var(--space-lg); }
.search-box { position: relative; display: flex; align-items: center; }
.search-icon { position: absolute; left: var(--space-md); width: 24px; height: 24px; color: var(--color-text-muted); pointer-events: none; }
.search-input { width: 100%; padding: var(--space-md) var(--space-md) var(--space-md) 52px; font-size: var(--font-md); background: var(--color-bg-card); border: 2px solid var(--color-border); border-radius: 12px; color: var(--color-text); transition: var(--transition-fast); }
.search-input:focus { outline: none; border-color: var(--color-accent); box-shadow: 0 0 0 4px rgba(201,169,98,0.15); }
.search-input::placeholder { color: var(--color-text-muted); }
.search-clear { position: absolute; right: var(--space-md); background: none; border: none; color: var(--color-text-muted); cursor: pointer; padding: var(--space-xs); }
.search-clear:hover { color: var(--color-text); }

/* フィルター / Filter */
.filter-container { display: flex; flex-wrap: wrap; gap: var(--space-sm); }
.filter-btn { background: var(--color-bg-card); border: 1px solid var(--color-border); padding: var(--space-sm) var(--space-md); border-radius: 24px; color: var(--color-text-muted); cursor: pointer; font-size: var(--font-sm); transition: var(--transition-fast); }
.filter-btn:hover { border-color: var(--color-accent); color: var(--color-accent); }
.filter-btn.active { background: var(--color-accent); border-color: var(--color-accent); color: var(--color-bg); font-weight: 500; }

/* 広告スペース / Ad Space */
.ad-space { margin: var(--space-xl) 0; display: flex; justify-content: center; }
.ad-placeholder { background: var(--color-bg-card); border: 2px dashed var(--color-border); border-radius: 8px; display: flex; flex-direction: column; align-items: center; justify-content: center; color: var(--color-text-muted); font-size: var(--font-sm); gap: var(--space-xs); }
.ad-leaderboard .ad-placeholder { width: 728px; max-width: 100%; height: 90px; }
.ad-rectangle .ad-placeholder { width: 300px; height: 250px; }

/* セクションタイトル / Section Title */
.section-title { font-family: var(--font-display); font-size: var(--font-xl); color: var(--color-accent); margin-bottom: var(--space-lg); text-align: center; }
.title-num { font-size: var(--font-2xl); font-weight: 700; }

/* 国カードグリッド / Countries Grid */
.countries-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: var(--space-lg); }

/* 国カード / Country Card */
.country-card { background: var(--color-bg-card); border: 1px solid var(--color-border); border-radius: 16px; padding: var(--space-lg); cursor: pointer; transition: var(--transition-normal); animation: card-slide-in 0.5s ease backwards; }
.country-card:hover { transform: translateY(-4px); border-color: var(--color-accent); box-shadow: 0 12px 40px rgba(0,0,0,0.4); }
.country-card:nth-child(1) { animation-delay: 0.05s; }
.country-card:nth-child(2) { animation-delay: 0.1s; }
.country-card:nth-child(3) { animation-delay: 0.15s; }
.country-card:nth-child(4) { animation-delay: 0.2s; }
.country-card:nth-child(5) { animation-delay: 0.25s; }
.country-card:nth-child(6) { animation-delay: 0.3s; }
@keyframes card-slide-in { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

.card-header { display: flex; align-items: center; gap: var(--space-md); margin-bottom: var(--space-md); }
.card-flag { font-size: 2rem; }
.card-country { flex: 1; }
.card-country-name { font-family: var(--font-display); font-size: var(--font-lg); color: var(--color-text); font-weight: 600; }
.card-country-native { font-size: var(--font-sm); color: var(--color-text-muted); }
.card-region { font-size: var(--font-xs); color: var(--color-accent); text-transform: uppercase; letter-spacing: 0.1em; }

.card-dishes { display: flex; flex-direction: column; gap: var(--space-sm); }
.card-dish { display: flex; align-items: baseline; gap: var(--space-sm); }
.dish-rank { font-family: var(--font-display); font-size: var(--font-lg); color: var(--color-accent); font-weight: 600; min-width: 24px; }
.dish-name { font-size: var(--font-md); color: var(--color-text); }
.dish-name-native { font-size: var(--font-sm); color: var(--color-text-muted); margin-left: var(--space-xs); }

/* 検索結果なし / No Results */
.no-results { text-align: center; padding: var(--space-2xl); color: var(--color-text-muted); }
.no-results svg { width: 64px; height: 64px; margin-bottom: var(--space-md); opacity: 0.5; }
.no-results button { margin-top: var(--space-md); background: var(--color-accent); border: none; padding: var(--space-sm) var(--space-lg); border-radius: 8px; color: var(--color-bg); cursor: pointer; font-weight: 500; }

/* モーダル / Modal */
.dish-modal { position: fixed; inset: 0; margin: auto; max-width: 90vw; max-height: 90vh; width: 800px; background: var(--color-bg-elevated); border: 1px solid var(--color-border); border-radius: 20px; padding: 0; overflow: hidden; }
.dish-modal::backdrop { background: rgba(0,0,0,0.8); backdrop-filter: blur(4px); }
.modal-content { display: flex; flex-direction: column; max-height: 90vh; }
.modal-header { display: flex; justify-content: space-between; align-items: center; padding: var(--space-lg); border-bottom: 1px solid var(--color-border); }
.modal-country { display: flex; align-items: center; gap: var(--space-md); font-size: var(--font-lg); }
#modal-flag { font-size: 2rem; }
.modal-close { background: none; border: none; color: var(--color-text-muted); cursor: pointer; padding: var(--space-sm); border-radius: 50%; transition: var(--transition-fast); }
.modal-close:hover { background: var(--color-surface); color: var(--color-text); }
.modal-body { flex: 1; overflow-y: auto; padding: var(--space-lg); }
.modal-footer { display: flex; gap: var(--space-md); padding: var(--space-lg); border-top: 1px solid var(--color-border); }
.favorite-btn, .share-btn { flex: 1; display: flex; align-items: center; justify-content: center; gap: var(--space-sm); padding: var(--space-md); border-radius: 12px; cursor: pointer; font-size: var(--font-md); transition: var(--transition-fast); }
.favorite-btn { background: transparent; border: 2px solid var(--color-accent); color: var(--color-accent); }
.favorite-btn.active { background: var(--color-accent); color: var(--color-bg); }
.favorite-btn svg { width: 20px; height: 20px; fill: currentColor; }
.share-btn { background: var(--color-accent); border: none; color: var(--color-bg); }
.share-btn svg { width: 20px; height: 20px; }

/* 料理詳細 / Dish Detail */
.dish-detail { margin-bottom: var(--space-xl); padding-bottom: var(--space-xl); border-bottom: 1px solid var(--color-border); }
.dish-detail:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }
.dish-rank-badge { display: inline-flex; align-items: center; gap: var(--space-xs); font-family: var(--font-display); font-size: var(--font-lg); color: var(--color-accent); margin-bottom: var(--space-sm); }
.dish-title { font-family: var(--font-display); font-size: var(--font-xl); color: var(--color-text); margin-bottom: var(--space-xs); }
.dish-title-native { font-size: var(--font-lg); color: var(--color-text-muted); margin-bottom: var(--space-lg); }

/* レーダーチャート / Radar Chart */
.flavor-section { margin: var(--space-lg) 0; }
.flavor-title { font-size: var(--font-sm); color: var(--color-text-muted); text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: var(--space-md); }
.flavor-chart { width: 200px; height: 200px; margin: 0 auto var(--space-lg); }
.flavor-legend { display: flex; flex-wrap: wrap; justify-content: center; gap: var(--space-sm) var(--space-md); font-size: var(--font-sm); }
.legend-item { display: flex; align-items: center; gap: var(--space-xs); }
.legend-dot { width: 8px; height: 8px; border-radius: 50%; }

/* 材料・説明 / Ingredients & Description */
.dish-section { margin-bottom: var(--space-lg); }
.dish-section-title { font-size: var(--font-sm); color: var(--color-accent); text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: var(--space-sm); border-bottom: 1px solid var(--color-border); padding-bottom: var(--space-xs); }
.ingredients-list { display: flex; flex-wrap: wrap; gap: var(--space-sm); }
.ingredient-tag { background: var(--color-surface); padding: var(--space-xs) var(--space-sm); border-radius: 4px; font-size: var(--font-sm); }
.ingredient-tag.primary { border-left: 3px solid var(--color-accent); }
.dish-description { color: var(--color-text); line-height: 1.8; }

/* フッター / Footer */
.footer { background: var(--color-bg-elevated); border-top: 1px solid var(--color-border); padding: var(--space-xl) var(--space-lg); margin-top: var(--space-2xl); }
.footer-container { max-width: 1200px; margin: 0 auto; text-align: center; }
.footer-nav { display: flex; justify-content: center; gap: var(--space-lg); margin-bottom: var(--space-md); flex-wrap: wrap; }
.footer-link { background: none; border: none; color: var(--color-text-muted); cursor: pointer; font-size: var(--font-sm); transition: var(--transition-fast); }
.footer-link:hover { color: var(--color-accent); }
.footer-copyright { color: var(--color-text-muted); font-size: var(--font-sm); margin-bottom: var(--space-sm); }
.back-link { color: var(--color-accent); font-size: var(--font-sm); text-decoration: none; }
.back-link:hover { text-decoration: underline; }

/* 法的モーダル / Legal Modal */
.legal-modal { max-width: 600px; width: 90vw; background: var(--color-bg-elevated); border: 1px solid var(--color-border); border-radius: 16px; padding: 0; }
.legal-modal::backdrop { background: rgba(0,0,0,0.8); }
.legal-content { padding: var(--space-lg); }
.legal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-lg); }
.legal-header h2 { font-family: var(--font-display); font-size: var(--font-lg); color: var(--color-accent); }
.legal-close { background: none; border: none; color: var(--color-text-muted); cursor: pointer; padding: var(--space-sm); }
.legal-body { color: var(--color-text); line-height: 1.8; }

/* レスポンシブ / Responsive */
@media (max-width: 768px) {
  :root { --font-2xl: 48px; --font-xl: 32px; --font-lg: 22px; }
  .header-container { padding: var(--space-sm) var(--space-md); }
  .logo-main { font-size: 1.2rem; }
  .main { padding: var(--space-lg) var(--space-md); }
  .countries-grid { grid-template-columns: 1fr; }
  .ad-leaderboard .ad-placeholder { width: 100%; height: 60px; }
  .filter-container { justify-content: center; }
  .modal-footer { flex-direction: column; }
}
